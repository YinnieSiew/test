{% extends "base.html" %}

{% block title %}User Profile{% endblock %}

{% block content %}

<style>
  body {
    background-color: #f2eadf;
  }

  h2, p, label {
    font-family: 'Times New Roman';
    color: rgb(78, 68, 57);
  }

  .profile-header {
    position: relative;
    margin-bottom: 30px;
    margin-top: 25px;
    align-items: center;
  }

  .cover-photo {
    width: 100%;
    height: 250px;
    object-fit: cover;
    border-radius: 10px;
  }

  .profile-content {
    position: absolute;
    top: 100px;
    left: 30px;
    display: flex;
    align-items: center;
    border-radius: 10px;
  }

  .profile-picture {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid white;
    background: white;
  }

  .profile-info {
    margin-left: 20px;
  }

  .profile-details {
    margin-top: 45px;
    background: #fff7ec;
    padding: 20px;
    border-radius: 10px;
  }

  button {
    font-family: 'Times New Roman';
    background-color: rgb(176, 148, 119);
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
  }

  button:hover {
    background-color: rgb(156, 128, 100);
  }
</style>

<div class="container mt-4">
  <div class="profile-details">

    <!-- Profile Header -->
    <div class="profile-header">
      {% if user.CoverPhoto %}
        <img src="{{ url_for('static', filename='Userprofile/' ~ user.CoverPhoto) }}" alt="Cover Photo" class="cover-photo">
      {% else %}
        <img src="{{ url_for('static', filename='Userprofile/default_cover.png') }}" alt="Cover Photo" class="cover-photo">
      {% endif %}

      <div class="profile-content">
        {% if user.ProfilePicture %}
          <img src="{{ url_for('static', filename='Userprofile/' ~ user.ProfilePicture) }}" alt="Profile Picture" class="profile-picture">
        {% else %}
          <img src="{{ url_for('static', filename='Userprofile/default_profilepic.png') }}" alt="Profile Picture" class="profile-picture">
        {% endif %}
      </div>
    </div>

    <h2>User Profile</h2>
    <p><b>Username:</b> {{ user.UserName }}</p>
    <p><b>Email:</b> {{ user.email }}</p>
    <p><b>Bio:</b> {{ user.Bio if user.Bio else "No bio set yet." }}</p>
    <p><b>Status:</b> {{ user.status }}</p>

    <button onclick="location.href='{{ url_for('auth.update_profile') }}'">Edit Profile</button>

  </div>
</div>

{% endblock %}
